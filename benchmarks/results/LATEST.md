# MockD Benchmark Results

**Generated**: 2026-01-10T19:54:56Z

> **Note**: This file is auto-generated by `run_benchmarks.go`. Some protocols show
> 0 values due to benchmark execution issues (missing dependencies, server setup failures).
> For complete baseline results, see [BENCHMARK_RESULTS.md](./BENCHMARK_RESULTS.md).

## Environment

- **OS**: linux/amd64
- **CPU**: Intel(R) Core(TM) i7-4790K CPU @ 4.00GHz (8 cores)
- **Go**: go1.25.5

## Summary

| Protocol | Throughput | Latency | Claim | Status |
|----------|------------|---------|-------|--------|
| WebSocket | 16,490 ops/s | 60.64μs | 13K+ msg/s | Measured |
| gRPC | - | - | 5K+ calls/s | See baseline |
| MQTT QoS0 | - | - | 100K+ msg/s | See baseline |
| SOAP | - | - | 5K+ req/s | See baseline |
| Startup | - | - | <1ms server | See baseline |

### Baseline Reference (from BENCHMARK_RESULTS.md)

| Protocol | Measured | Conservative Claim |
|----------|----------|-------------------|
| gRPC Unary | 7.7K calls/s | 5K+ calls/s |
| gRPC Concurrent | 35K calls/s | 25K+ calls/s |
| MQTT QoS 0 | 108K msg/s | 100K+ msg/s |
| MQTT QoS 1 | 21K msg/s | 15K+ msg/s |
| MQTT QoS 2 | 12K msg/s | 10K+ msg/s |
| Startup (server) | 128μs | <1ms |
| Startup (CLI) | 6.3ms | <10ms |

## Startup

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|

## Admin

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|

## Soap

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|

## Websocket

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|
| BenchmarkWS_EchoLatency | 16490 | 60643 | 3501 | 46 |
| BenchmarkWS_ConnectionEstablishment | 2432 | 411256 | 41917 | 360 |
| BenchmarkWS_ConcurrentConnections | 57 | 17423931 | 4240723 | 36889 |
| BenchmarkWS_MatcherPerformance | 25893 | 38621 | 3898 | 53 |
| BenchmarkWS_MessageThroughput/small_64B | 29764 | 33598 | 3464 | 46 |
| BenchmarkWS_MessageThroughput/medium_1KB | 24043 | 41592 | 10974 | 74 |

## Grpc

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|

## Mqtt

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|

## Reproducing

```bash
go run benchmarks/run_benchmarks.go
# Or individual protocols:
go test -bench=BenchmarkWS -benchtime=2s -benchmem ./tests/performance/...
go test -bench=BenchmarkGRPC -benchtime=2s -benchmem ./tests/performance/...
go test -bench=BenchmarkMQTT -benchtime=2s -benchmem ./tests/performance/...
go test -bench=BenchmarkSOAP -benchtime=2s -benchmem ./tests/performance/...
```

## Troubleshooting Zero Results

If protocols show 0 values:

1. **gRPC**: Requires proto file at `tests/fixtures/grpc/test.proto`
2. **MQTT**: Broker must start successfully (check port availability)
3. **SOAP**: HTTP test server must initialize
4. **Startup**: Requires built `mockd` binary

Run benchmarks individually to see detailed errors:
```bash
go test -v -bench=BenchmarkGRPC -benchtime=1s ./tests/performance/...
```
