# MockD Benchmark Results

**Generated**: 2026-02-01T04:00:11Z

> **Note**: Auto-generated by `go run benchmarks/run_benchmarks.go`.
> Numbers measured on moderate hardware (see Environment). Modern developer machines
> typically achieve equal or better results. For website marketing claims, see
> [BENCHMARK_RESULTS.md](./BENCHMARK_RESULTS.md).

## Environment

- **OS**: linux/amd64
- **CPU**: Intel(R) Core(TM) i7-4790K CPU @ 4.00GHz (8 cores)
- **Go**: go1.25.5

## Summary

| Protocol | Throughput | Latency | Claim | Status |
|----------|------------|---------|-------|--------|
| HTTP | See `run_all.sh` | ~2ms p50 | 50K+ req/s | Measured via `ab` |
| WebSocket | 28978 ops/s | 34.51μs | 23K+ msg/s | Measured |
| gRPC | 29369 ops/s | 147.96μs | 21K+ calls/s | Measured |
| MQTT QoS0 | 103263 msg/s | - | 93K+ QoS0, 14K+ QoS1, 9K+ QoS2 | Measured |
| SOAP | 25055 req/s | 106.32μs | 20K+ req/s | Measured |
| Startup (CLI) | - | 9.67ms | <10ms | Measured |
| Memory | - | - | <25MB | Measured (RSS) |

## Soap

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|
| BenchmarkSOAP_RequestLatency | 9406 | 106320 | 23082 | 224 |
| BenchmarkSOAP_ConcurrentRequests | 25055 | 39912 | 24117 | 236 |
| BenchmarkSOAP_MessageSizes/small_500B | 9287 | 107676 | 23621 | 233 |
| BenchmarkSOAP_MessageSizes/medium_2KB | 6602 | 151472 | 38209 | 246 |
| BenchmarkSOAP_MessageSizes/large_10KB | 2544 | 393117 | 155673 | 263 |
| BenchmarkSOAP_XMLParsing | 7784 | 128463 | 31083 | 332 |
| BenchmarkSOAP_SOAP12 | 9380 | 106612 | 23272 | 220 |
| BenchmarkSOAP_ConnectionReuse | 9414 | 106228 | 24338 | 225 |
| BenchmarkSOAP_HighConcurrency | 30354 | 32945 | 23113 | 226 |

## Websocket

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|
| BenchmarkWS_EchoLatency | 28978 | 34509 | 3581 | 50 |
| BenchmarkWS_ConnectionEstablishment | 3252 | 307544 | 41264 | 348 |
| BenchmarkWS_ConcurrentConnections | 68 | 14687295 | 4196943 | 35834 |
| BenchmarkWS_MatcherPerformance | 24576 | 40690 | 5058 | 76 |
| BenchmarkWS_MessageThroughput/small_64B | 28850 | 34662 | 3560 | 50 |
| BenchmarkWS_MessageThroughput/medium_1KB | 23223 | 43061 | 11070 | 78 |

## Grpc

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|
| BenchmarkGRPC_UnaryLatency | 6758 | 147964 | 16377 | 306 |
| BenchmarkGRPC_ConnectionEstablishment | 45243 | 22103 | 7691 | 159 |
| BenchmarkGRPC_ConcurrentUnary | 29369 | 34049 | 15865 | 306 |
| BenchmarkGRPC_Throughput/unary | 6741 | 148351 | 16434 | 305 |

## Mqtt

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|
| BenchmarkMQTT_PublishQoS0 | 103263 | 9684 | 1360 | 31 |
| BenchmarkMQTT_PublishQoS1 | 19446 | 51425 | 2667 | 52 |
| BenchmarkMQTT_PublishQoS2 | 11413 | 87622 | 3252 | 74 |
| BenchmarkMQTT_PubSubLatency | 12445 | 80356 | 7284 | 98 |
| BenchmarkMQTT_ConnectionEstablishment | 4144 | 241294 | 80880 | 245 |
| BenchmarkMQTT_ConcurrentPublishers | 278552 | 3590 | 1417 | 31 |
| BenchmarkMQTT_Fanout | 730 | 1370630 | 37733 | 468 |
| BenchmarkMQTT_MessageSizes/64B | 99384 | 10062 | 1592 | 32 |
| BenchmarkMQTT_MessageSizes/1KB | 77160 | 12960 | 5720 | 32 |
| BenchmarkMQTT_MessageSizes/10KB | 40130 | 24919 | 44118 | 32 |
| BenchmarkMQTT_MessageSizes/64KB | 9032 | 110712 | 287721 | 32 |

## Startup

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|
| BenchmarkCLIStartup | 103 | 9669596 | 17609 | 46 |
| BenchmarkServerStartup | 10 | 103624953 | 46409 | 338 |

## Admin

| Benchmark | ops/sec | ns/op | B/op | allocs/op |
|-----------|---------|-------|------|----------|
| BenchmarkAdminAPIHealth | 9788 | 102161 | 5351 | 74 |
| BenchmarkAdminAPIListMocks | 7308 | 136829 | 5353 | 74 |

## Reproducing

```bash
# Run all protocol benchmarks (generates this file)
go run benchmarks/run_benchmarks.go

# Run HTTP throughput (requires Apache Bench)
go build -o mockd ./cmd/mockd
./mockd start --port 4280 --admin-port 4290 --no-auth &
# create a mock, then:
ab -n 100000 -c 200 -k http://localhost:4280/bench

# Individual protocols:
go test -bench=BenchmarkWS -benchtime=2s -benchmem ./tests/performance/...
go test -bench=BenchmarkGRPC -benchtime=2s -benchmem ./tests/performance/...
go test -bench=BenchmarkMQTT -benchtime=2s -benchmem ./tests/performance/...
go test -bench=BenchmarkSOAP -benchtime=2s -benchmem ./tests/performance/...
```
