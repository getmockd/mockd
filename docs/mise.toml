#:schema https://mise.jdx.dev/schema/mise.json
# Documentation tooling - only needed for building docs

[env]
_.python.venv = { path = ".venv", create = true }

[tools]
python = "3.12"
uv = "latest"

[tasks.install]
description = "Install documentation dependencies"
run = '''
uv pip install \
  "mkdocs>=1.6.0" \
  "mkdocs-material>=9.5.0" \
  "mkdocs-material-extensions>=1.3.0" \
  "mkdocs-llmstxt>=0.2.0" \
  "pymdown-extensions>=10.7.0"
'''

[tasks.serve]
description = "Start documentation server with live reload"
dir = ".."
run = "docs/.venv/bin/mkdocs serve --dev-addr 127.0.0.1:8000"

[tasks.build]
description = "Build static documentation site"
dir = ".."
run = "docs/.venv/bin/mkdocs build --strict"

[tasks.clean]
description = "Clean documentation build artifacts"
run = "rm -rf ../site/ .venv/"
