{
  "version": "1.0",
  "name": "HTTP Validation Demo",
  "description": "Demonstration of field-level validation for HTTP mock endpoints including string, number, array, and nested object validation",
  "mocks": [
    {
      "name": "Validation Demo - User Registration",
      "description": "POST endpoint with comprehensive validation for user registration",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "POST",
          "path": "/api/register"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "username": {
              "type": "string",
              "required": true,
              "minLength": 3,
              "maxLength": 30,
              "pattern": "^[a-z][a-z0-9_]*$"
            },
            "email": {
              "type": "string",
              "required": true,
              "format": "email"
            },
            "password": {
              "type": "string",
              "required": true,
              "minLength": 8,
              "maxLength": 100
            },
            "confirmPassword": {
              "type": "string",
              "required": true,
              "minLength": 8
            },
            "age": {
              "type": "integer",
              "min": 13,
              "max": 120
            },
            "termsAccepted": {
              "type": "boolean",
              "required": true
            }
          }
        },
        "response": {
          "statusCode": 201,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"id\": \"{{uuid}}\", \"username\": \"{{request.body.username}}\", \"email\": \"{{request.body.email}}\", \"message\": \"Registration successful\"}"
        }
      },
      "id": "validation-demo-01"
    },
    {
      "name": "Validation Demo - Contact Form",
      "description": "POST endpoint with validation for contact form submissions",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "POST",
          "path": "/api/contact"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "name": {
              "type": "string",
              "required": true,
              "minLength": 2,
              "maxLength": 100
            },
            "email": {
              "type": "string",
              "required": true,
              "format": "email"
            },
            "subject": {
              "type": "string",
              "required": true,
              "enum": [
                "general",
                "support",
                "sales",
                "feedback",
                "partnership"
              ]
            },
            "message": {
              "type": "string",
              "required": true,
              "minLength": 10,
              "maxLength": 5000
            },
            "phone": {
              "type": "string",
              "pattern": "^\\+?[1-9]\\d{1,14}$"
            },
            "newsletter": {
              "type": "boolean"
            }
          }
        },
        "response": {
          "statusCode": 200,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"success\": true, \"ticketId\": \"TICKET-{{uuid.short}}\", \"message\": \"Thank you for contacting us. We will respond within 24 hours.\"}"
        }
      },
      "id": "validation-demo-02"
    },
    {
      "name": "Validation Demo - Product Creation",
      "description": "POST endpoint with validation for creating products",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "POST",
          "path": "/api/admin/products"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "sku": {
              "type": "string",
              "required": true,
              "pattern": "^[A-Z]{2,5}-[0-9]{3,6}$"
            },
            "name": {
              "type": "string",
              "required": true,
              "minLength": 2,
              "maxLength": 200
            },
            "description": {
              "type": "string",
              "maxLength": 5000
            },
            "price": {
              "type": "number",
              "required": true,
              "min": 0.01,
              "max": 1000000
            },
            "compareAtPrice": {
              "type": "number",
              "min": 0
            },
            "currency": {
              "type": "string",
              "required": true,
              "enum": [
                "USD",
                "EUR",
                "GBP",
                "CAD",
                "AUD",
                "JPY"
              ]
            },
            "category": {
              "type": "string",
              "required": true
            },
            "tags": {
              "type": "array",
              "maxItems": 20,
              "items": {
                "type": "string",
                "minLength": 1,
                "maxLength": 50
              }
            },
            "inventory": {
              "type": "integer",
              "required": true,
              "min": 0,
              "max": 1000000
            },
            "weight": {
              "type": "number",
              "min": 0
            },
            "dimensions": {
              "type": "object"
            },
            "dimensions.length": {
              "type": "number",
              "min": 0
            },
            "dimensions.width": {
              "type": "number",
              "min": 0
            },
            "dimensions.height": {
              "type": "number",
              "min": 0
            },
            "published": {
              "type": "boolean"
            },
            "imageUrls": {
              "type": "array",
              "maxItems": 10,
              "items": {
                "type": "string",
                "format": "uri"
              }
            }
          }
        },
        "response": {
          "statusCode": 201,
          "headers": {
            "Content-Type": "application/json",
            "Location": "/api/admin/products/{{request.body.sku}}"
          },
          "body": "{\"sku\": \"{{request.body.sku}}\", \"name\": \"{{request.body.name}}\", \"createdAt\": \"{{now}}\", \"message\": \"Product created successfully\"}"
        }
      },
      "id": "validation-demo-03"
    },
    {
      "name": "Validation Demo - Order Submission",
      "description": "POST endpoint with nested object validation for order placement",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "POST",
          "path": "/api/orders"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "customerId": {
              "type": "string",
              "required": true,
              "format": "uuid"
            },
            "items": {
              "type": "array",
              "required": true,
              "minItems": 1,
              "maxItems": 50
            },
            "items.productId": {
              "type": "string",
              "required": true
            },
            "items.quantity": {
              "type": "integer",
              "required": true,
              "min": 1,
              "max": 100
            },
            "items.price": {
              "type": "number",
              "required": true,
              "min": 0
            },
            "shippingAddress": {
              "type": "object",
              "required": true
            },
            "shippingAddress.firstName": {
              "type": "string",
              "required": true,
              "minLength": 1,
              "maxLength": 50
            },
            "shippingAddress.lastName": {
              "type": "string",
              "required": true,
              "minLength": 1,
              "maxLength": 50
            },
            "shippingAddress.street1": {
              "type": "string",
              "required": true,
              "minLength": 1,
              "maxLength": 200
            },
            "shippingAddress.street2": {
              "type": "string",
              "maxLength": 200
            },
            "shippingAddress.city": {
              "type": "string",
              "required": true,
              "minLength": 1,
              "maxLength": 100
            },
            "shippingAddress.state": {
              "type": "string",
              "required": true,
              "minLength": 2,
              "maxLength": 50
            },
            "shippingAddress.postalCode": {
              "type": "string",
              "required": true,
              "minLength": 3,
              "maxLength": 20
            },
            "shippingAddress.country": {
              "type": "string",
              "required": true,
              "minLength": 2,
              "maxLength": 2
            },
            "shippingAddress.phone": {
              "type": "string",
              "pattern": "^\\+?[1-9]\\d{1,14}$"
            },
            "billingAddress": {
              "type": "object"
            },
            "paymentMethod": {
              "type": "string",
              "required": true,
              "enum": [
                "credit_card",
                "debit_card",
                "paypal",
                "apple_pay",
                "google_pay",
                "bank_transfer"
              ]
            },
            "couponCode": {
              "type": "string",
              "maxLength": 50
            },
            "notes": {
              "type": "string",
              "maxLength": 500
            }
          }
        },
        "response": {
          "statusCode": 201,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"orderId\": \"ORD-{{uuid.short}}\", \"status\": \"pending\", \"customerId\": \"{{request.body.customerId}}\", \"total\": 149.99, \"createdAt\": \"{{now}}\"}"
        }
      },
      "id": "validation-demo-04"
    },
    {
      "name": "Validation Demo - Profile Update (PATCH)",
      "description": "PATCH endpoint with optional field validation for profile updates",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "PATCH",
          "path": "/api/profile/{userId}"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "firstName": {
              "type": "string",
              "minLength": 1,
              "maxLength": 50
            },
            "lastName": {
              "type": "string",
              "minLength": 1,
              "maxLength": 50
            },
            "displayName": {
              "type": "string",
              "minLength": 2,
              "maxLength": 100
            },
            "bio": {
              "type": "string",
              "maxLength": 500
            },
            "website": {
              "type": "string",
              "format": "uri"
            },
            "location": {
              "type": "string",
              "maxLength": 100
            },
            "timezone": {
              "type": "string"
            },
            "language": {
              "type": "string",
              "minLength": 2,
              "maxLength": 5
            },
            "avatarUrl": {
              "type": "string",
              "format": "uri"
            },
            "socialLinks": {
              "type": "object"
            },
            "socialLinks.twitter": {
              "type": "string",
              "format": "uri"
            },
            "socialLinks.linkedin": {
              "type": "string",
              "format": "uri"
            },
            "socialLinks.github": {
              "type": "string",
              "format": "uri"
            },
            "notifications": {
              "type": "object"
            },
            "notifications.email": {
              "type": "boolean"
            },
            "notifications.push": {
              "type": "boolean"
            },
            "notifications.sms": {
              "type": "boolean"
            }
          }
        },
        "response": {
          "statusCode": 200,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"userId\": \"{{request.pathParam.userId}}\", \"updated\": true, \"updatedAt\": \"{{now}}\"}"
        }
      },
      "id": "validation-demo-05"
    },
    {
      "name": "Validation Demo - Settings Update (PUT)",
      "description": "PUT endpoint with full object replacement validation",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "PUT",
          "path": "/api/settings/{userId}"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "theme": {
              "type": "string",
              "required": true,
              "enum": [
                "light",
                "dark",
                "auto",
                "system"
              ]
            },
            "language": {
              "type": "string",
              "required": true,
              "minLength": 2,
              "maxLength": 10
            },
            "timezone": {
              "type": "string",
              "required": true
            },
            "dateFormat": {
              "type": "string",
              "required": true,
              "enum": [
                "MM/DD/YYYY",
                "DD/MM/YYYY",
                "YYYY-MM-DD",
                "DD.MM.YYYY"
              ]
            },
            "timeFormat": {
              "type": "string",
              "required": true,
              "enum": [
                "12h",
                "24h"
              ]
            },
            "currency": {
              "type": "string",
              "required": true,
              "minLength": 3,
              "maxLength": 3
            },
            "notifications": {
              "type": "object",
              "required": true
            },
            "notifications.email": {
              "type": "boolean",
              "required": true
            },
            "notifications.push": {
              "type": "boolean",
              "required": true
            },
            "notifications.marketing": {
              "type": "boolean",
              "required": true
            },
            "privacy": {
              "type": "object",
              "required": true
            },
            "privacy.profileVisibility": {
              "type": "string",
              "required": true,
              "enum": [
                "public",
                "friends",
                "private"
              ]
            },
            "privacy.showEmail": {
              "type": "boolean",
              "required": true
            },
            "privacy.showActivity": {
              "type": "boolean",
              "required": true
            }
          }
        },
        "response": {
          "statusCode": 200,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"userId\": \"{{request.pathParam.userId}}\", \"settings\": {\"theme\": \"{{request.body.theme}}\", \"language\": \"{{request.body.language}}\"}, \"updatedAt\": \"{{now}}\"}"
        }
      },
      "id": "validation-demo-06"
    },
    {
      "name": "Validation Demo - API Key Creation",
      "description": "POST endpoint with validation for API key generation",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "POST",
          "path": "/api/keys"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "name": {
              "type": "string",
              "required": true,
              "minLength": 1,
              "maxLength": 100
            },
            "description": {
              "type": "string",
              "maxLength": 500
            },
            "scopes": {
              "type": "array",
              "required": true,
              "minItems": 1,
              "uniqueItems": true,
              "items": {
                "type": "string",
                "enum": [
                  "read",
                  "write",
                  "delete",
                  "admin"
                ]
              }
            },
            "expiresAt": {
              "type": "string",
              "format": "datetime"
            },
            "ipWhitelist": {
              "type": "array",
              "items": {
                "type": "string",
                "format": "ipv4"
              }
            },
            "rateLimit": {
              "type": "integer",
              "min": 1,
              "max": 10000
            }
          }
        },
        "response": {
          "statusCode": 201,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"id\": \"{{uuid}}\", \"name\": \"{{request.body.name}}\", \"key\": \"mk_live_{{uuid}}\", \"createdAt\": \"{{now}}\", \"warning\": \"Please save this key. It will not be shown again.\"}"
        }
      },
      "id": "validation-demo-07"
    },
    {
      "name": "Validation Demo - Webhook Registration",
      "description": "POST endpoint with URL and format validation for webhooks",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "POST",
          "path": "/api/webhooks"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "url": {
              "type": "string",
              "required": true,
              "format": "uri"
            },
            "events": {
              "type": "array",
              "required": true,
              "minItems": 1,
              "uniqueItems": true,
              "items": {
                "type": "string",
                "enum": [
                  "order.created",
                  "order.updated",
                  "order.completed",
                  "order.cancelled",
                  "user.created",
                  "user.updated",
                  "payment.received",
                  "payment.failed",
                  "inventory.low"
                ]
              }
            },
            "secret": {
              "type": "string",
              "minLength": 16,
              "maxLength": 256
            },
            "active": {
              "type": "boolean"
            },
            "metadata": {
              "type": "object"
            }
          }
        },
        "response": {
          "statusCode": 201,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"id\": \"wh_{{uuid.short}}\", \"url\": \"{{request.body.url}}\", \"events\": [\"order.created\"], \"active\": true, \"createdAt\": \"{{now}}\"}"
        }
      },
      "id": "validation-demo-08"
    },
    {
      "name": "Validation Demo - Warn Mode",
      "description": "POST endpoint with warn mode - logs validation errors but accepts request",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "POST",
          "path": "/api/feedback"
        },
        "validation": {
          "mode": "warn",
          "fields": {
            "rating": {
              "type": "integer",
              "required": true,
              "min": 1,
              "max": 5
            },
            "comment": {
              "type": "string",
              "maxLength": 2000
            },
            "email": {
              "type": "string",
              "format": "email"
            },
            "category": {
              "type": "string",
              "enum": [
                "product",
                "service",
                "delivery",
                "support",
                "other"
              ]
            }
          }
        },
        "response": {
          "statusCode": 200,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"success\": true, \"message\": \"Thank you for your feedback!\"}"
        }
      },
      "id": "validation-demo-09"
    },
    {
      "name": "Validation Demo - Array Validation",
      "description": "POST endpoint demonstrating array item validation",
      "type": "http",
      "enabled": true,
      "http": {
        "matcher": {
          "method": "POST",
          "path": "/api/batch/users"
        },
        "validation": {
          "mode": "strict",
          "fields": {
            "users": {
              "type": "array",
              "required": true,
              "minItems": 1,
              "maxItems": 100
            },
            "users.email": {
              "type": "string",
              "required": true,
              "format": "email"
            },
            "users.name": {
              "type": "string",
              "required": true,
              "minLength": 1,
              "maxLength": 100
            },
            "users.role": {
              "type": "string",
              "enum": [
                "user",
                "admin",
                "moderator"
              ]
            }
          }
        },
        "response": {
          "statusCode": 200,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": "{\"created\": 3, \"failed\": 0, \"message\": \"Batch user creation completed\"}"
        }
      },
      "id": "validation-demo-10"
    }
  ]
}