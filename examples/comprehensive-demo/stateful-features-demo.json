{
  "version": "1.0",
  "name": "Stateful Features Demo with Validation",
  "statefulResources": [
    {
      "name": "todos",
      "basePath": "/api/todos",
      "idField": "id",
      "validation": {
        "mode": "strict",
        "fields": {
          "title": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 200
          },
          "completed": {
            "type": "boolean",
            "required": true
          },
          "priority": {
            "type": "string",
            "required": true,
            "enum": ["low", "medium", "high"]
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      },
      "seedData": [
        {
          "id": "todo-1",
          "title": "Learn mockd stateful resources",
          "completed": true,
          "priority": "high",
          "createdAt": "2024-01-15T10:00:00Z"
        },
        {
          "id": "todo-2",
          "title": "Build awesome API mocks",
          "completed": false,
          "priority": "high",
          "createdAt": "2024-01-15T11:00:00Z"
        },
        {
          "id": "todo-3",
          "title": "Test with Insomnia",
          "completed": false,
          "priority": "medium",
          "createdAt": "2024-01-15T12:00:00Z"
        },
        {
          "id": "todo-4",
          "title": "Write documentation",
          "completed": false,
          "priority": "low",
          "createdAt": "2024-01-15T13:00:00Z"
        }
      ]
    },
    {
      "name": "users",
      "basePath": "/api/v2/users",
      "idField": "id",
      "validation": {
        "mode": "strict",
        "fields": {
          "username": {
            "type": "string",
            "required": true,
            "minLength": 2,
            "maxLength": 50,
            "pattern": "^[a-z][a-z0-9_]*$"
          },
          "email": {
            "type": "string",
            "required": true,
            "format": "email"
          },
          "role": {
            "type": "string",
            "required": true,
            "enum": ["admin", "user", "moderator", "guest"]
          },
          "status": {
            "type": "string",
            "required": true,
            "enum": ["active", "inactive", "pending", "suspended"]
          },
          "profile": {
            "type": "object"
          },
          "profile.firstName": {
            "type": "string",
            "minLength": 1,
            "maxLength": 50
          },
          "profile.lastName": {
            "type": "string",
            "minLength": 1,
            "maxLength": 50
          },
          "profile.avatar": {
            "type": "string",
            "format": "uri"
          }
        }
      },
      "seedData": [
        {
          "id": "user-1",
          "username": "alice",
          "email": "alice@example.com",
          "role": "admin",
          "status": "active",
          "profile": {
            "firstName": "Alice",
            "lastName": "Smith",
            "avatar": "https://i.pravatar.cc/150?u=alice"
          }
        },
        {
          "id": "user-2",
          "username": "bob",
          "email": "bob@example.com",
          "role": "user",
          "status": "active",
          "profile": {
            "firstName": "Bob",
            "lastName": "Jones",
            "avatar": "https://i.pravatar.cc/150?u=bob"
          }
        },
        {
          "id": "user-3",
          "username": "charlie",
          "email": "charlie@example.com",
          "role": "user",
          "status": "pending",
          "profile": {
            "firstName": "Charlie",
            "lastName": "Brown",
            "avatar": "https://i.pravatar.cc/150?u=charlie"
          }
        }
      ]
    },
    {
      "name": "posts",
      "basePath": "/api/v2/users/:userId/posts",
      "idField": "id",
      "parentField": "userId",
      "validation": {
        "mode": "strict",
        "fields": {
          "title": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 200
          },
          "body": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 10000
          },
          "tags": {
            "type": "array",
            "minItems": 0,
            "maxItems": 10,
            "items": {
              "type": "string",
              "minLength": 1,
              "maxLength": 30
            }
          },
          "published": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      },
      "seedData": [
        {
          "id": "post-1",
          "userId": "user-1",
          "title": "Getting Started with mockd",
          "body": "mockd is a powerful API mocking tool that supports HTTP, WebSocket, gRPC, GraphQL, and SOAP protocols.",
          "tags": ["mockd", "tutorial", "api"],
          "published": true,
          "createdAt": "2024-01-10T09:00:00Z"
        },
        {
          "id": "post-2",
          "userId": "user-1",
          "title": "Advanced Stateful Mocking",
          "body": "Learn how to use stateful resources to create realistic CRUD APIs for testing.",
          "tags": ["mockd", "stateful", "advanced"],
          "published": true,
          "createdAt": "2024-01-12T14:00:00Z"
        },
        {
          "id": "post-3",
          "userId": "user-2",
          "title": "My First Post",
          "body": "Hello world! This is my first post on the platform.",
          "tags": ["introduction"],
          "published": false,
          "createdAt": "2024-01-14T16:00:00Z"
        }
      ]
    },
    {
      "name": "comments",
      "basePath": "/api/v2/posts/:postId/comments",
      "idField": "id",
      "parentField": "postId",
      "validation": {
        "mode": "strict",
        "fields": {
          "authorId": {
            "type": "string",
            "required": true,
            "minLength": 1
          },
          "body": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 2000
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      },
      "seedData": [
        {
          "id": "comment-1",
          "postId": "post-1",
          "authorId": "user-2",
          "body": "Great introduction! Very helpful.",
          "createdAt": "2024-01-10T10:30:00Z"
        },
        {
          "id": "comment-2",
          "postId": "post-1",
          "authorId": "user-3",
          "body": "Thanks for sharing this!",
          "createdAt": "2024-01-10T11:00:00Z"
        },
        {
          "id": "comment-3",
          "postId": "post-2",
          "authorId": "user-2",
          "body": "The stateful features are really powerful.",
          "createdAt": "2024-01-12T15:30:00Z"
        }
      ]
    },
    {
      "name": "products",
      "basePath": "/api/shop/products",
      "idField": "sku",
      "validation": {
        "mode": "strict",
        "fields": {
          "sku": {
            "type": "string",
            "pattern": "^[A-Z]+-[0-9]+$"
          },
          "name": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "type": "string",
            "maxLength": 2000
          },
          "price": {
            "type": "number",
            "required": true,
            "min": 0,
            "max": 1000000
          },
          "currency": {
            "type": "string",
            "required": true,
            "enum": ["USD", "EUR", "GBP", "CAD", "AUD"]
          },
          "category": {
            "type": "string",
            "required": true,
            "enum": ["software", "merchandise", "services", "subscriptions"]
          },
          "inStock": {
            "type": "boolean",
            "required": true
          },
          "quantity": {
            "type": "integer",
            "required": true,
            "min": 0,
            "max": 100000
          },
          "sizes": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": ["XS", "S", "M", "L", "XL", "XXL"]
            }
          }
        }
      },
      "seedData": [
        {
          "sku": "MOCK-001",
          "name": "mockd Pro License",
          "description": "Professional license for mockd with all features",
          "price": 99.99,
          "currency": "USD",
          "category": "software",
          "inStock": true,
          "quantity": 999
        },
        {
          "sku": "MOCK-002",
          "name": "mockd Enterprise License",
          "description": "Enterprise license with premium support",
          "price": 499.99,
          "currency": "USD",
          "category": "software",
          "inStock": true,
          "quantity": 500
        },
        {
          "sku": "MERCH-001",
          "name": "mockd T-Shirt",
          "description": "Comfortable cotton t-shirt with mockd logo",
          "price": 24.99,
          "currency": "USD",
          "category": "merchandise",
          "inStock": true,
          "quantity": 50,
          "sizes": ["S", "M", "L", "XL"]
        },
        {
          "sku": "MERCH-002",
          "name": "mockd Sticker Pack",
          "description": "Pack of 10 vinyl stickers",
          "price": 9.99,
          "currency": "USD",
          "category": "merchandise",
          "inStock": false,
          "quantity": 0
        }
      ]
    },
    {
      "name": "cart",
      "basePath": "/api/shop/cart",
      "idField": "id",
      "validation": {
        "mode": "strict",
        "fields": {
          "userId": {
            "type": "string",
            "required": true,
            "minLength": 1
          },
          "items": {
            "type": "array",
            "required": true,
            "minItems": 0,
            "maxItems": 100
          },
          "items.sku": {
            "type": "string",
            "required": true,
            "pattern": "^[A-Z]+-[0-9]+$"
          },
          "items.quantity": {
            "type": "integer",
            "required": true,
            "min": 1,
            "max": 100
          },
          "items.size": {
            "type": "string",
            "enum": ["XS", "S", "M", "L", "XL", "XXL"]
          },
          "updatedAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      },
      "seedData": [
        {
          "id": "cart-user-1",
          "userId": "user-1",
          "items": [
            {"sku": "MOCK-001", "quantity": 1},
            {"sku": "MERCH-001", "quantity": 2, "size": "L"}
          ],
          "updatedAt": "2024-01-15T10:00:00Z"
        }
      ]
    },
    {
      "name": "orders",
      "basePath": "/api/shop/orders",
      "idField": "id",
      "validation": {
        "mode": "strict",
        "fields": {
          "userId": {
            "type": "string",
            "required": true,
            "minLength": 1
          },
          "items": {
            "type": "array",
            "required": true,
            "minItems": 1,
            "maxItems": 100
          },
          "items.sku": {
            "type": "string",
            "required": true,
            "pattern": "^[A-Z]+-[0-9]+$"
          },
          "items.quantity": {
            "type": "integer",
            "required": true,
            "min": 1,
            "max": 100
          },
          "items.price": {
            "type": "number",
            "required": true,
            "min": 0
          },
          "subtotal": {
            "type": "number",
            "required": true,
            "min": 0
          },
          "tax": {
            "type": "number",
            "required": true,
            "min": 0
          },
          "total": {
            "type": "number",
            "required": true,
            "min": 0
          },
          "status": {
            "type": "string",
            "required": true,
            "enum": ["pending", "confirmed", "processing", "shipped", "delivered", "completed", "cancelled", "refunded"]
          },
          "trackingNumber": {
            "type": "string",
            "maxLength": 100
          },
          "shippingAddress": {
            "type": "object",
            "required": true
          },
          "shippingAddress.name": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 100
          },
          "shippingAddress.street": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 200
          },
          "shippingAddress.city": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 100
          },
          "shippingAddress.state": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 100
          },
          "shippingAddress.zip": {
            "type": "string",
            "required": true,
            "minLength": 1,
            "maxLength": 20
          },
          "shippingAddress.country": {
            "type": "string",
            "required": true,
            "minLength": 2,
            "maxLength": 2
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          },
          "completedAt": {
            "type": "string",
            "format": "datetime"
          },
          "shippedAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      },
      "seedData": [
        {
          "id": "order-1001",
          "userId": "user-2",
          "items": [
            {"sku": "MOCK-001", "quantity": 1, "price": 99.99}
          ],
          "subtotal": 99.99,
          "tax": 8.00,
          "total": 107.99,
          "status": "completed",
          "shippingAddress": {
            "name": "Bob Jones",
            "street": "123 Main St",
            "city": "San Francisco",
            "state": "CA",
            "zip": "94105",
            "country": "US"
          },
          "createdAt": "2024-01-05T09:00:00Z",
          "completedAt": "2024-01-05T09:05:00Z"
        },
        {
          "id": "order-1002",
          "userId": "user-1",
          "items": [
            {"sku": "MERCH-001", "quantity": 3, "price": 24.99},
            {"sku": "MERCH-002", "quantity": 1, "price": 9.99}
          ],
          "subtotal": 84.96,
          "tax": 6.80,
          "total": 91.76,
          "status": "shipped",
          "trackingNumber": "1Z999AA10123456784",
          "shippingAddress": {
            "name": "Alice Smith",
            "street": "456 Oak Ave",
            "city": "New York",
            "state": "NY",
            "zip": "10001",
            "country": "US"
          },
          "createdAt": "2024-01-10T14:00:00Z",
          "shippedAt": "2024-01-11T08:00:00Z"
        },
        {
          "id": "order-1003",
          "userId": "user-3",
          "items": [
            {"sku": "MOCK-002", "quantity": 1, "price": 499.99}
          ],
          "subtotal": 499.99,
          "tax": 40.00,
          "total": 539.99,
          "status": "pending",
          "shippingAddress": {
            "name": "Charlie Brown",
            "street": "789 Pine Rd",
            "city": "Chicago",
            "state": "IL",
            "zip": "60601",
            "country": "US"
          },
          "createdAt": "2024-01-15T11:00:00Z"
        }
      ]
    }
  ]
}
